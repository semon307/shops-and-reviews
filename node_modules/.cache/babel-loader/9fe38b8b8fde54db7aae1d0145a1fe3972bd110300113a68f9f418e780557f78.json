{"ast":null,"code":"const calculateRelevanceScore = review => {\n  let score = 0;\n  if (review.comment) {\n    const commentLength = review.comment.replace(/\\s/g, '').length;\n    score += Math.min(commentLength, 100);\n  }\n  const {\n    firstname,\n    lastname\n  } = review.reviewer.profile;\n  if (firstname && lastname) {\n    score += 50;\n  } else if (firstname && firstname.length === 1 || lastname && lastname.length === 1) {\n    score += 25;\n  }\n  return score;\n};\nexport const mapReviewsRaw = reviews => {\n  return reviews.map(review => ({\n    ...review,\n    relevanceScore: calculateRelevanceScore(review)\n  }));\n};","map":{"version":3,"names":["calculateRelevanceScore","review","score","comment","commentLength","replace","length","Math","min","firstname","lastname","reviewer","profile","mapReviewsRaw","reviews","map","relevanceScore"],"sources":["/Applications/work/test_tasks/coding-challenge-consumer-semen/src/redux/mappers/map-reviews-raw.ts"],"sourcesContent":["import { Review } from '../types/review/review';\nimport { ReviewRaw } from '../types/review/review-raw';\n\nconst calculateRelevanceScore = (review: Review): number => {\n  let score = 0;\n\n  if (review.comment) {\n    const commentLength = review.comment.replace(/\\s/g, '').length;\n    score += Math.min(commentLength, 100);\n  }\n\n  const { firstname, lastname } = review.reviewer.profile;\n\n  if (firstname && lastname) {\n    score += 50;\n  } else if ((firstname && firstname.length === 1) || (lastname && lastname.length === 1)) {\n    score += 25;\n  }\n\n  return score;\n};\n\nexport const mapReviewsRaw = (reviews: ReviewRaw[]): Review[] => {\n  return reviews.map((review) => ({\n    ...review,\n    relevanceScore: calculateRelevanceScore(review)\n  }));\n};\n"],"mappings":"AAGA,MAAMA,uBAAuB,GAAIC,MAAc,IAAa;EAC1D,IAAIC,KAAK,GAAG,CAAC;EAEb,IAAID,MAAM,CAACE,OAAO,EAAE;IAClB,MAAMC,aAAa,GAAGH,MAAM,CAACE,OAAO,CAACE,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAACC,MAAM;IAC9DJ,KAAK,IAAIK,IAAI,CAACC,GAAG,CAACJ,aAAa,EAAE,GAAG,CAAC;EACvC;EAEA,MAAM;IAAEK,SAAS;IAAEC;EAAS,CAAC,GAAGT,MAAM,CAACU,QAAQ,CAACC,OAAO;EAEvD,IAAIH,SAAS,IAAIC,QAAQ,EAAE;IACzBR,KAAK,IAAI,EAAE;EACb,CAAC,MAAM,IAAKO,SAAS,IAAIA,SAAS,CAACH,MAAM,KAAK,CAAC,IAAMI,QAAQ,IAAIA,QAAQ,CAACJ,MAAM,KAAK,CAAE,EAAE;IACvFJ,KAAK,IAAI,EAAE;EACb;EAEA,OAAOA,KAAK;AACd,CAAC;AAED,OAAO,MAAMW,aAAa,GAAIC,OAAoB,IAAe;EAC/D,OAAOA,OAAO,CAACC,GAAG,CAAEd,MAAM,KAAM;IAC9B,GAAGA,MAAM;IACTe,cAAc,EAAEhB,uBAAuB,CAACC,MAAM;EAChD,CAAC,CAAC,CAAC;AACL,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}