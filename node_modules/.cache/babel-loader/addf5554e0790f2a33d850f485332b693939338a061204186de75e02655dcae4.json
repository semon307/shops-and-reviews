{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nimport { shopsApi } from '../api/shops-api';\nconst initialState = {\n  shops: [],\n  loading: false,\n  error: null\n};\nconst slice = createSlice({\n  name: 'shopsReducer',\n  initialState: initialState,\n  reducers: {\n    setShopsAC(state, action) {\n      state.shops = action.payload;\n    }\n  }\n});\nexport const shopsReducer = slice.reducer;\nexport const setShopsAC = slice.actions.setShopsAC;\nexport const shopsTC = query => dispatch => {\n  shopsApi.getShops(query).then(res => {\n    var _res$data;\n    dispatch(setShopsAC(res === null || res === void 0 ? void 0 : (_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.shops));\n  }).catch(error => {\n    dispatch({\n      type: 'shops/error',\n      payload: error.message\n    });\n  });\n};","map":{"version":3,"names":["createSlice","shopsApi","initialState","shops","loading","error","slice","name","reducers","setShopsAC","state","action","payload","shopsReducer","reducer","actions","shopsTC","query","dispatch","getShops","then","res","_res$data","data","catch","type","message"],"sources":["/Applications/work/test_tasks/coding-challenge-consumer-semen/src/redux/shops-reducer.ts"],"sourcesContent":["import { Dispatch } from 'redux';\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { Shop } from './types/Shop';\nimport { shopsApi } from '../api/shops-api';\n\nexport type ShopsState = {\n  shops: Array<Shop>;\n  loading: boolean;\n  error: string | null;\n};\n\nconst initialState: ShopsState = {\n  shops: [],\n  loading: false,\nerror: null,\n};\nconst slice = createSlice({\n  name: 'shopsReducer',\n  initialState: initialState,\n  reducers: {\n    setShopsAC(state, action: PayloadAction<Array<Shop>>) {\n      state.shops = action.payload;\n    }\n  }\n});\n\nexport const shopsReducer = slice.reducer;\nexport const setShopsAC = slice.actions.setShopsAC;\n\n\nexport const shopsTC = (query: string) => (dispatch: Dispatch) => {\n  shopsApi.getShops(query)\n    .then((res) => {\n      dispatch(setShopsAC(res?.data?.shops));\n    })\n    .catch((error) => {\n      dispatch({ type: 'shops/error', payload: error.message });\n    });\n};\n"],"mappings":"AACA,SAASA,WAAW,QAAuB,kBAAkB;AAE7D,SAASC,QAAQ,QAAQ,kBAAkB;AAQ3C,MAAMC,YAAwB,GAAG;EAC/BC,KAAK,EAAE,EAAE;EACTC,OAAO,EAAE,KAAK;EAChBC,KAAK,EAAE;AACP,CAAC;AACD,MAAMC,KAAK,GAAGN,WAAW,CAAC;EACxBO,IAAI,EAAE,cAAc;EACpBL,YAAY,EAAEA,YAAY;EAC1BM,QAAQ,EAAE;IACRC,UAAUA,CAACC,KAAK,EAAEC,MAAkC,EAAE;MACpDD,KAAK,CAACP,KAAK,GAAGQ,MAAM,CAACC,OAAO;IAC9B;EACF;AACF,CAAC,CAAC;AAEF,OAAO,MAAMC,YAAY,GAAGP,KAAK,CAACQ,OAAO;AACzC,OAAO,MAAML,UAAU,GAAGH,KAAK,CAACS,OAAO,CAACN,UAAU;AAGlD,OAAO,MAAMO,OAAO,GAAIC,KAAa,IAAMC,QAAkB,IAAK;EAChEjB,QAAQ,CAACkB,QAAQ,CAACF,KAAK,CAAC,CACrBG,IAAI,CAAEC,GAAG,IAAK;IAAA,IAAAC,SAAA;IACbJ,QAAQ,CAACT,UAAU,CAACY,GAAG,aAAHA,GAAG,wBAAAC,SAAA,GAAHD,GAAG,CAAEE,IAAI,cAAAD,SAAA,uBAATA,SAAA,CAAWnB,KAAK,CAAC,CAAC;EACxC,CAAC,CAAC,CACDqB,KAAK,CAAEnB,KAAK,IAAK;IAChBa,QAAQ,CAAC;MAAEO,IAAI,EAAE,aAAa;MAAEb,OAAO,EAAEP,KAAK,CAACqB;IAAQ,CAAC,CAAC;EAC3D,CAAC,CAAC;AACN,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}