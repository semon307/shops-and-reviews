{"ast":null,"code":"const calculateRelevanceScore = review => {\n  console.log('review>>', review);\n  let score = 0;\n  if (review.comment) {\n    const commentLength = review.comment.replace(/\\s/g, '').length;\n    score += Math.min(commentLength, 100);\n  }\n  if (review.reviewer) {\n    const {\n      firstname,\n      lastname\n    } = review.reviewer.profile;\n    if (firstname && lastname) {\n      score += 50;\n    } else if (firstname && firstname.length === 1 || lastname && lastname.length === 1) {\n      score += 25;\n    }\n  }\n  return score;\n};\nexport const mapReviewsRaw = reviews => {\n  return reviews.map(review => ({\n    ...review,\n    relevanceScore: calculateRelevanceScore(review)\n  }));\n};","map":{"version":3,"names":["calculateRelevanceScore","review","console","log","score","comment","commentLength","replace","length","Math","min","reviewer","firstname","lastname","profile","mapReviewsRaw","reviews","map","relevanceScore"],"sources":["/Applications/work/test_tasks/coding-challenge-consumer-semen/src/redux/mappers/map-reviews-raw.ts"],"sourcesContent":["import { Review } from '../types/review/review';\nimport { ReviewRaw } from '../types/review/review-raw';\n\nconst calculateRelevanceScore = (review: Review): number => {\n  console.log('review>>', review);\n  let score = 0;\n\n  if (review.comment) {\n    const commentLength = review.comment.replace(/\\s/g, '').length;\n    score += Math.min(commentLength, 100);\n  }\n\n  if (review.reviewer) {\n    const { firstname, lastname } = review.reviewer.profile;\n    if (firstname && lastname) {\n      score += 50;\n    } else if ((firstname && firstname.length === 1) || (lastname && lastname.length === 1)) {\n      score += 25;\n    }\n  }\n\n  return score;\n};\n\nexport const mapReviewsRaw = (reviews: ReviewRaw[]): Review[] => {\n  return reviews.map((review) => ({\n    ...review,\n    relevanceScore: calculateRelevanceScore(review)\n  }));\n};\n"],"mappings":"AAGA,MAAMA,uBAAuB,GAAIC,MAAc,IAAa;EAC1DC,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEF,MAAM,CAAC;EAC/B,IAAIG,KAAK,GAAG,CAAC;EAEb,IAAIH,MAAM,CAACI,OAAO,EAAE;IAClB,MAAMC,aAAa,GAAGL,MAAM,CAACI,OAAO,CAACE,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAACC,MAAM;IAC9DJ,KAAK,IAAIK,IAAI,CAACC,GAAG,CAACJ,aAAa,EAAE,GAAG,CAAC;EACvC;EAEA,IAAIL,MAAM,CAACU,QAAQ,EAAE;IACnB,MAAM;MAAEC,SAAS;MAAEC;IAAS,CAAC,GAAGZ,MAAM,CAACU,QAAQ,CAACG,OAAO;IACvD,IAAIF,SAAS,IAAIC,QAAQ,EAAE;MACzBT,KAAK,IAAI,EAAE;IACb,CAAC,MAAM,IAAKQ,SAAS,IAAIA,SAAS,CAACJ,MAAM,KAAK,CAAC,IAAMK,QAAQ,IAAIA,QAAQ,CAACL,MAAM,KAAK,CAAE,EAAE;MACvFJ,KAAK,IAAI,EAAE;IACb;EACF;EAEA,OAAOA,KAAK;AACd,CAAC;AAED,OAAO,MAAMW,aAAa,GAAIC,OAAoB,IAAe;EAC/D,OAAOA,OAAO,CAACC,GAAG,CAAEhB,MAAM,KAAM;IAC9B,GAAGA,MAAM;IACTiB,cAAc,EAAElB,uBAAuB,CAACC,MAAM;EAChD,CAAC,CAAC,CAAC;AACL,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}