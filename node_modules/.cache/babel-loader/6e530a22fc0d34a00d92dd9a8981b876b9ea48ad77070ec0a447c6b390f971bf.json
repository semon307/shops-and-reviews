{"ast":null,"code":"var _jsxFileName = \"/Applications/work/test_tasks/coding-challenge-consumer-semen/src/pages/reviews/reviews-list.tsx\",\n  _s = $RefreshSig$();\nimport { Stack, CircularProgress } from '@mui/material';\nimport React, { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useParams } from 'react-router-dom';\nimport { useEffectOnce } from '../../common/hooks/use-effect-once';\nimport { reviewsTC } from '../../redux/reviews-reducer';\nimport { useTypedDispatch } from '../../redux/store';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ReviewsList = () => {\n  _s();\n  var _reviewsState, _reviewsState2;\n  const params = useParams();\n  const reviewsState = useSelector(state => state.reviews);\n  const dispatch = useTypedDispatch();\n  useEffectOnce(() => {\n    if (!reviewsState[params.tsId]) {\n      dispatch(reviewsTC(params.tsId));\n    }\n  });\n  useEffect(() => {\n    console.log('reviews>>>', reviewsState);\n  }, [reviewsState]);\n  if ((_reviewsState = reviewsState[params.tsId]) !== null && _reviewsState !== void 0 && _reviewsState.isLoading) return /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 62\n  }, this);\n  if ((_reviewsState2 = reviewsState[params.tsId]) !== null && _reviewsState2 !== void 0 && _reviewsState2.error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: reviewsState[params.tsId].error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 58\n  }, this);\n  console.log('params>>', params);\n  return /*#__PURE__*/_jsxDEV(Stack, {\n    children: \"hello!\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n};\n_s(ReviewsList, \"PdtKOGMibzWys37+kZW4kigTRHQ=\", false, function () {\n  return [useParams, useSelector, useTypedDispatch, useEffectOnce];\n});\n_c = ReviewsList;\nvar _c;\n$RefreshReg$(_c, \"ReviewsList\");","map":{"version":3,"names":["Stack","CircularProgress","React","useEffect","useSelector","useParams","useEffectOnce","reviewsTC","useTypedDispatch","jsxDEV","_jsxDEV","ReviewsList","_s","_reviewsState","_reviewsState2","params","reviewsState","state","reviews","dispatch","tsId","console","log","isLoading","fileName","_jsxFileName","lineNumber","columnNumber","error","children","_c","$RefreshReg$"],"sources":["/Applications/work/test_tasks/coding-challenge-consumer-semen/src/pages/reviews/reviews-list.tsx"],"sourcesContent":["import { Stack, CircularProgress } from '@mui/material';\nimport React, { FC, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useParams } from 'react-router-dom';\nimport { useEffectOnce } from '../../common/hooks/use-effect-once';\nimport { ReviewsState, reviewsTC } from '../../redux/reviews-reducer';\nimport { AppRootStateType, useTypedDispatch } from '../../redux/store';\n\nexport const ReviewsList: FC = () => {\n  const params = useParams<{tsId: string;}>();\n  const reviewsState = useSelector<AppRootStateType, ReviewsState>(\n    (state) => state.reviews\n  );\n\n  const dispatch = useTypedDispatch();\n\n  useEffectOnce(() => {\n    if(!reviewsState[params.tsId as string]){\n      dispatch(reviewsTC(params.tsId as string));\n    }\n  });\n\n  useEffect(() => {\n    console.log('reviews>>>', reviewsState);\n  }, [reviewsState]);\n\n  if (reviewsState[params.tsId as string]?.isLoading) return <CircularProgress/>;\n  if (reviewsState[params.tsId as string]?.error) return <div>{reviewsState[params.tsId as string].error}</div>;\n  console.log('params>>', params);\n  return (\n    <Stack>hello!</Stack>\n  );\n};\n"],"mappings":";;AAAA,SAASA,KAAK,EAAEC,gBAAgB,QAAQ,eAAe;AACvD,OAAOC,KAAK,IAAQC,SAAS,QAAQ,OAAO;AAC5C,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,SAAS,QAAQ,kBAAkB;AAC5C,SAASC,aAAa,QAAQ,oCAAoC;AAClE,SAAuBC,SAAS,QAAQ,6BAA6B;AACrE,SAA2BC,gBAAgB,QAAQ,mBAAmB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEvE,OAAO,MAAMC,WAAe,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAAA,IAAAC,aAAA,EAAAC,cAAA;EACnC,MAAMC,MAAM,GAAGV,SAAS,CAAkB,CAAC;EAC3C,MAAMW,YAAY,GAAGZ,WAAW,CAC7Ba,KAAK,IAAKA,KAAK,CAACC,OACnB,CAAC;EAED,MAAMC,QAAQ,GAAGX,gBAAgB,CAAC,CAAC;EAEnCF,aAAa,CAAC,MAAM;IAClB,IAAG,CAACU,YAAY,CAACD,MAAM,CAACK,IAAI,CAAW,EAAC;MACtCD,QAAQ,CAACZ,SAAS,CAACQ,MAAM,CAACK,IAAc,CAAC,CAAC;IAC5C;EACF,CAAC,CAAC;EAEFjB,SAAS,CAAC,MAAM;IACdkB,OAAO,CAACC,GAAG,CAAC,YAAY,EAAEN,YAAY,CAAC;EACzC,CAAC,EAAE,CAACA,YAAY,CAAC,CAAC;EAElB,KAAAH,aAAA,GAAIG,YAAY,CAACD,MAAM,CAACK,IAAI,CAAW,cAAAP,aAAA,eAAnCA,aAAA,CAAqCU,SAAS,EAAE,oBAAOb,OAAA,CAACT,gBAAgB;IAAAuB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAC,CAAC;EAC9E,KAAAb,cAAA,GAAIE,YAAY,CAACD,MAAM,CAACK,IAAI,CAAW,cAAAN,cAAA,eAAnCA,cAAA,CAAqCc,KAAK,EAAE,oBAAOlB,OAAA;IAAAmB,QAAA,EAAMb,YAAY,CAACD,MAAM,CAACK,IAAI,CAAW,CAACQ;EAAK;IAAAJ,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAM,CAAC;EAC7GN,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEP,MAAM,CAAC;EAC/B,oBACEL,OAAA,CAACV,KAAK;IAAA6B,QAAA,EAAC;EAAM;IAAAL,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAO,CAAC;AAEzB,CAAC;AAACf,EAAA,CAxBWD,WAAe;EAAA,QACXN,SAAS,EACHD,WAAW,EAIfI,gBAAgB,EAEjCF,aAAa;AAAA;AAAAwB,EAAA,GARFnB,WAAe;AAAA,IAAAmB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}